<!DOCTYPE html>
<html data-bs-theme="dark">
<head>
  <title>{{ Projectname }} &#x2022 Settings</title>
  <link rel="icon" type="image/x-icon" href="{{ icon }}">
  <link href="{{ bootstrapcss }}" rel="stylesheet">
  <script src="{{bootstrapjs}}"></script>
  <link rel="stylesheet" href="{{bootstrapicons}}">
  <link rel="stylesheet" href="{{ maincss }}">
</head>
<style>
  .spoiler, .spoiler2, .spoiler a, .spoiler2 a{ 
    background-color: black;
    filter: blur(4px); /* Apply a blur */
  }

  .spoiler:hover, .spoiler:hover a {
    color: white;
    filter: none; /* Remove the blur on hover */
  }

  .spoiler2:hover, .spoiler2:hover a { 
    background-color:white; 
    filter: none; /* Remove the blur on hover */
  }



</style>
<body>
    {{ include 'inc/navbar.html' }}

    {{ if $mailverify == true }}
    <div class="alert alert-danger" role="alert" style="width: 1500px; margin: 0 auto;">
      Pls verify your mail
    </div>
    </div>
    {{ endif }}
    {{ if locked == true }}
    <div class="alert alert-danger" role="alert" style="width: 1500px; margin: 0 auto;">
      Your account is locked pls contact with <a href="/faq#locked" class="alert-link">support</a> 
    </div>
    </div>
    {{ endif }}
     <div class="bg-secondary-soft container rounded  mt-5">
            <form method="post" action="" enctype="multipart/form-data">
                         
        <div class="row">

            <div class="col-md-4 border-right">
                <div class="list-group" data-bs-spy="scroll">

                {{ list }}
            </div>


            </div>
            <div class="col-md-8 w-50">
                <div class="p-3 py-5">
               </div>
                        <div class="row mt-1">
                            <div class="col-md-6">
                                <label for="username" class="form-label">Mail:</label>
                                <input type="text" style="font: initial;" class="form-control spoiler" placeholder="Mail" value="{{ mail }}" name="new_username" id="username" disabled>
                            </div>
                            <div class="col-md-6">
                                <label for="password" class="form-label">Discord:</label>
                                <input type="text" style="font: initial;" class="form-control spoiler" placeholder="Discord" value="{{ dsid }}" name="new_password" id="password" disabled>
                            </div>
                            
                        </div>
                        <div class="row mt-1">
                            <div class="col-md-6">
                                <label for="skin" class="form-label">Password:</label>
                                <input class="form-control col-md-6" type="password" id="new_skin" name="new_skin" disabled>
                            </div>
                            <div class="col-md-6" style="margin-top: 25px;">
                              <label for="skin" class="form-label"></label>
                              <button class="btn btn-success col-md-6" type="button" data-bs-toggle="modal" data-bs-target="#coupons">Code</button>
                          </div>
                            <div class="col-md-6">
                                <label for="cape" class="form-label" style="display: none;">Cape:</label>
                                <input class="form-control col-md-6" type="file" id="cape" style="display: none;" disabled>
                            </div>
                            <div class="col-md-6">

                          </div>
        </a>
                        </div>
                        <div class="mt-3 text-right">
                            <a class="btn btn-primary profile-button col-md-4" data-bs-toggle="modal" data-bs-target="#settings"  name="update">Change information</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <button class="btn btn-primary profile-button" type="button" data-bs-toggle="modal" data-bs-target="#info"></button>
    <div class="modal fade" id="myModal">
        <div class="modal-dialog">
          <div class="modal-content">
      
            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Modal Heading</h4>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
              <form action="" method="post">
                <label for="username" class="form-label">username:</label>
                <input class="form-control col-md-4" type="text"><br>
                <button class="btn btn-primary profile-button " type="submit" name="update">create</button>
              </form>
            </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
              <button type="button" class="btn btn-success" data-bs-dismiss="modal">Close</button>
            </div>
      
          </div>
        </div>
      </div>
    
      
      <div class="modal fade" id="settings">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form action="" method="post">
                <label for="Mail" class="form-label">Mail:</label>
                <input class="form-control col-md-4" type="text"><br>
                <label for="Discord" class="form-label">Discord:</label>
                <input class="form-control col-md-4" type="text"><br>
                <label for="Password" class="form-label">Password:</label>
                <input class="form-control col-md-4" type="password"><br>
                <button class="btn btn-primary profile-button " type="submit" name="update">update</button> 
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="modal fade" id="info" data-bs-backdrop="static">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Information about account</h5>
              <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
            </div>
            <div class="modal-body">
                Id number: <br>
                Data creation: <br>
            </div>
            <div class="modal-footer">
              <p id="formatTime">1</p>
              <button type="submit" class="btn btn-success">Save file</button>
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="myButton" disabled>Close</button>
            </div>
          </div>
        </div>
      </div>
<!-- Bootstrap JS and Popper.js scripts (required for Bootstrap) -->
<div class="modal" id="coupons" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        
      </div>
      
      <div class="modal-body">
        <form action="" method="post">
          <label for="Type" class="form-label">Type:</label>
          <select class="form-select" aria-label="Default select example">
            <option value="0">Mail verify</option>
            <option value="1">Referral </option>
            <option value="2">Coupon</option>
          </select>
          <br>
          <div class="col-md-6">
            <label for="Code" class="form-label">Code:</label>
            <input type="text" name="code" class="form-control mt-3" placeholder="Code" id="check">
          </div>
          <button type="submit" class="btn btn-primary mt-3" name="submit">Submit</button>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>

<!-- Bootstrap JS and Popper.js scripts (required for Bootstrap) -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // Set the countdown time to 5 minutes (300 seconds)
  var countdownTime = 10; 

  // Function to format the time as mm:ss
  function formatTime(time) {
    var minutes = Math.floor(time / 60);
    var seconds = time % 60;
    return minutes.toString().padStart(2, '0') + ':' + seconds.toString().padStart(2, '0');
  }

  // Function to update the countdown time every second
  function updateCountdown() {
    // Decrease the countdown time by 1 second
    countdownTime--;

    // Format the countdown time
    var formattedTime = formatTime(countdownTime);

    // Display the formatted countdown time
    document.getElementById('formatTime').textContent = formattedTime;

    // If the countdown time reaches 0, stop the countdown
    if (countdownTime <= 0) {
      clearInterval(countdownInterval);
      document.getElementById('myButton').disabled = false;
    }
  }

  // Start the countdown
  var countdownInterval = setInterval(updateCountdown, 1000);

  // Get the input element
  var inputElement = document.getElementById('check');

  // Add an event listener to listen for input changes
  inputElement.addEventListener('input', function() {
    // Get the input value
    var inputValue = inputElement.value;

    // Create a regular expression pattern for "xxx-xxx" format
    var pattern = /^\d{3}-\d{3}$/;

    // Test if the input value matches the pattern
    var isValid = pattern.test(inputValue);

    // Update the input element's validity state
    inputElement.setCustomValidity(isValid ? '' : 'Invalid format. Please use "xxx-xxx" format.');

    // Optionally, display an error message to the user
    var errorMessageElement = document.getElementById('errorMessageElementId');
    errorMessageElement.textContent = isValid ? '' : 'Invalid format. Please use "xxx-xxx" format.';
  });


</script>
